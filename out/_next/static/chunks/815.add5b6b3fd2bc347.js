(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{2263:(e,t,r)=>{"use strict";r.d(t,{Im:()=>l,VD:()=>u,ZA:()=>o,dY:()=>d,hf:()=>p,i6:()=>m});var n=r(4796),a=r(2179),s=r(307);n.l2R.enabled=!0;let i=new a.Z,c=new s.B;i.setDecoderPath("/draco/"),c.setDRACOLoader(i);let o=c,u=new n.Tap,l=e=>{e?.traverse(e=>{if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)f(e.material);else for(let t of e.material)f(t)})},f=e=>{for(let t of(e.dispose(),Object.keys(e))){let r=e[t];r&&"object"==typeof r&&"minFilter"in r&&(r.dispose(),r.source?.data?.close?.())}},d=e=>{e.dispose(),e=null},m=e=>{for(let t of e)t.parent.remove(t)},p=(e,t)=>{let r;return t.traverse(t=>{t.name===e&&(r=t)}),r}},2364:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Armor:()=>k});var n=r(7876);let a={src:"/_next/static/media/volkihar-cube-nx.6150c9af.jpg"},s={src:"/_next/static/media/volkihar-cube-ny.f2c25620.jpg"},i={src:"/_next/static/media/volkihar-cube-nz.094dd0b3.jpg"},c={src:"/_next/static/media/volkihar-cube-px.cb007f0e.jpg"},o={src:"/_next/static/media/volkihar-cube-py.46d12f37.jpg"},u={src:"/_next/static/media/volkihar-cube-pz.e7c6feeb.jpg"},l=r.p+"static/media/volkihar-knight.d62f417b.glb";var f=r(8114),d=r(6070),m=r(8713),p=r(7689),v=r(8097),h=r(9803),w=r(4232),y=r(4796);let x=Math.PI/180;var g=r(7554),b=r(2263),_=r(4505),C=r.n(_);let j={stiffness:40,damping:20,mass:1.5},k=({showDelay:e=0,cameraPosition:t={x:0,y:0,z:6},className:r,alt:_,...k})=>{let[E,S]=(0,w.useState)(!1),[z,R]=(0,w.useState)(!1),[A,L]=(0,w.useState)(!1),N=(0,w.useRef)(),P=(0,w.useRef)(),M=(0,w.useRef)(),Z=(0,w.useRef)(),I=(0,w.useRef)(),T=(0,w.useRef)(),F=(0,w.useRef)(),J=(0,h.B4)(N,!1,{threshold:.4}),O=(0,p.I)(),Y=(0,v.z)(0,j),B=(0,v.z)(0,j);(0,w.useEffect)(()=>{let{clientWidth:e,clientHeight:r}=N.current;T.current=new y.JeP({canvas:P.current,alpha:!0,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0}),T.current.setPixelRatio(2),T.current.setSize(e,r),T.current.outputEncoding=y.S2Q,T.current.physicallyCorrectLights=!0,T.current.toneMapping=y.FV,M.current=new y.ubm(36,e/r,.1,100),M.current.position.set(t.x,t.y,t.z),I.current=new y.Z58;let n=new y.ScU;Z.current=new y.YJl,I.current.add(Z.current);let f=new y.BdL(T.current);f.compileCubemapShader();let d=new y.ZyN(0xffffff,3.2),m=new y.ZyN(0xffffff,1),p=new y.ZyN(0xffffff,1);d.position.set(1,.1,2),m.position.set(-1,.1,8),p.position.set(-2,2,-3),F.current=[p,d,m],F.current.forEach(e=>I.current.add(e));let v=async()=>{let e=b.ZA.loadAsync(l),t=n.loadAsync([a.src,s.src,i.src,c.src,o.src,u.src]),[r,d]=await Promise.all([e,t]);Z.current.add(r.scene),r.scene.rotation.y=180*x,r.scene.position.y=-1.6;let{texture:m}=f.fromCubemap(d);I.current.environment=m,f.dispose(),await T.current.initTexture(I.current.environment),Z.current.traverse(async e=>{e.material&&await T.current.initTexture(e.material)}),S(!0),D()};(0,w.startTransition)(()=>{v(),setTimeout(()=>{L(!0)},1e3)});let h=Y.onChange(e=>{Z.current.rotation.x=e,D()}),g=B.onChange(e=>{Z.current.rotation.y=e,D()});return()=>{(0,b.i6)(F.current),(0,b.Im)(I.current),(0,b.dY)(T.current),h(),g()}},[]);let D=(0,w.useCallback)(()=>{T.current.render(I.current,M.current)},[]);return(0,w.useEffect)(()=>{let e=e=>{let{innerWidth:t,innerHeight:r}=window,n={x:(e.clientX-t/2)/t,y:(e.clientY-r/2)/r};Y.set(n.y/2),B.set(n.x/2)};return J&&R(!0),J&&!O&&window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[J,O,Y,B]),(0,w.useEffect)(()=>{let e=()=>{if(!N.current)return;let{clientWidth:e,clientHeight:t}=N.current;T.current.setSize(e,t),M.current.aspect=e/t,M.current.updateProjectionMatrix(),D()};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[D]),(0,n.jsxs)("div",{className:(0,g.Ly)(C().armor,r),ref:N,role:"img","aria-label":_,...k,children:[(0,n.jsx)(m.e,{unmount:!0,in:!E&&A,timeout:(0,g.IT)(d.L.base.durationL),children:e=>(0,n.jsx)(f.a,{className:C().loader,"data-visible":e})}),(0,n.jsx)("canvas",{className:C().canvas,ref:P,"data-loaded":E&&z,style:(0,g.ow)({delay:(0,g._P)(e)})})]})}},4505:e=>{e.exports={armor:"Armor_armor__APs1J",loader:"Armor_loader__iEntN",canvas:"Armor_canvas__eWFny"}},8097:(e,t,r)=>{"use strict";r.d(t,{z:()=>f});var n=r(4902),a=r(4232),s=r(1762),i=r(2981),c=r(280),o=r(9751),u=r(1200),l=r(181);function f(e,t){void 0===t&&(t={});var r,f=(0,a.useContext)(o.Q).isStatic,d=(0,a.useRef)(null),m=function(e){var t=(0,u.M)(function(){return(0,c.O)(e)});if((0,a.useContext)(o.Q).isStatic){var r=(0,n.zs)((0,a.useState)(e),2)[1];(0,a.useEffect)(function(){return t.onChange(r)},[])}return t}((0,i.S)(e)?e.get():e);return(0,a.useMemo)(function(){return m.attach(function(e,r){return f?r(e):(d.current&&d.current.stop(),d.current=(0,s.i)((0,n.Cl)((0,n.Cl)({from:m.get(),to:e,velocity:m.getVelocity()},t),{onUpdate:r})),m.get())})},[JSON.stringify(t)]),r=function(e){return m.set(parseFloat(e))},(0,l.E)(function(){if((0,i.S)(e))return e.onChange(r)},[r]),m}}}]);