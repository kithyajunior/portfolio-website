(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{7460:function(e,t,n){"use strict";n.r(t),n.d(t,{Armor:function(){return z}});var r=n(7568),i=n(1799),a=n(9396),o=n(9534),u=n(828),c=n(7582),s=n(5893),l="/_next/static/media/volkihar-cube-nx.6150c9af.jpg",f="/_next/static/media/volkihar-cube-ny.f2c25620.jpg",d="/_next/static/media/volkihar-cube-nz.094dd0b3.jpg",v="/_next/static/media/volkihar-cube-px.cb007f0e.jpg",m="/_next/static/media/volkihar-cube-py.46d12f37.jpg",h="/_next/static/media/volkihar-cube-pz.e7c6feeb.jpg",p=n.p+"static/media/volkihar-knight.d62f417b.glb",y=n(7206),w=n(3994),x=n(7260),g=n(3302),b=n(7378),_=n(4529),C=n(7294),k=n(9477);const E=Math.PI/180;Math.PI;function j(e){return e*E}var S=n(2362),P=n(3142),L=n(3934),N=n.n(L),R={stiffness:40,damping:20,mass:1.5},z=function(e){var t=e.showDelay,n=void 0===t?0:t,E=e.cameraPosition,L=void 0===E?{x:0,y:0,z:6}:E,z=e.className,M=e.alt,Z=(0,o.Z)(e,["showDelay","cameraPosition","className","alt"]),A=(0,C.useState)(!1),O=A[0],T=A[1],W=(0,C.useState)(!1),q=W[0],D=W[1],F=(0,C.useState)(!1),J=F[0],B=F[1],G=(0,C.useRef)(),H=(0,C.useRef)(),I=(0,C.useRef)(),U=(0,C.useRef)(),Y=(0,C.useRef)(),K=(0,C.useRef)(),V=(0,C.useRef)(),X=(0,_.NM)(G,!1,{threshold:.4}),Q=(0,g.J)(),$=(0,b.q)(0,R),ee=(0,b.q)(0,R);(0,C.useEffect)((function(){if((0,P.lN)()){var e=G.current,t=e.clientWidth,n=e.clientHeight;K.current=new k.CP7({canvas:H.current,alpha:!0,antialias:!1,powerPreference:"high-performance"}),K.current.setPixelRatio(2),K.current.setSize(t,n),K.current.outputEncoding=k.knz,K.current.physicallyCorrectLights=!0,K.current.toneMapping=k.LY2,I.current=new k.cPb(36,t/n,.1,100),I.current.position.set(L.x,L.y,L.z),Y.current=new k.xsS;var i=new k.cBK;U.current=new k.ZAu,Y.current.add(U.current);var a=new k.anP(K.current);a.compileCubemapShader();var o=new k.Ox3(16777215,3.2),s=new k.Ox3(16777215,1),y=new k.Ox3(16777215,1);o.position.set(1,.1,2),s.position.set(-1,.1,8),y.position.set(-2,2,-3),V.current=[y,o,s],V.current.forEach((function(e){return Y.current.add(e)}));var w=function(){var e=(0,r.Z)((function(){var e,t,n,o,s,y;return(0,c.__generator)(this,(function(w){switch(w.label){case 0:return e=P.Zf.loadAsync(p),t=i.loadAsync([l,f,d,v,m,h]),[4,Promise.all([e,t])];case 1:return n=u.Z.apply(void 0,[w.sent(),2]),o=n[0],s=n[1],U.current.add(o.scene),o.scene.rotation.y=j(180),o.scene.position.y=-1.6,y=a.fromCubemap(s).texture,Y.current.environment=y,a.dispose(),[4,K.current.initTexture(Y.current.environment)];case 2:return w.sent(),U.current.traverse(function(){var e=(0,r.Z)((function(e){return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return e.material?[4,K.current.initTexture(e.material)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),T(!0),te(),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,C.startTransition)((function(){w(),setTimeout((function(){B(!0)}),1e3)}));var x=$.onChange((function(e){U.current.rotation.x=e,te()})),g=ee.onChange((function(e){U.current.rotation.y=e,te()}));return function(){(0,P.Ji)(V.current),(0,P.in)(Y.current),(0,P.e8)(K.current),x(),g()}}console.warn("WebGL not supported")}),[]);var te=(0,C.useCallback)((function(){K.current.render(Y.current,I.current)}),[]);return(0,C.useEffect)((function(){var e=function(e){var t=window.innerWidth,n=window.innerHeight,r=(e.clientX-t/2)/t,i=(e.clientY-n/2)/n;$.set(i/2),ee.set(r/2)};return X&&D(!0),X&&!Q&&window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[X,Q,$,ee]),(0,C.useEffect)((function(){var e=function(){if(G.current){var e=G.current,t=e.clientWidth,n=e.clientHeight;K.current.setSize(t,n),I.current.aspect=t/n,I.current.updateProjectionMatrix(),te()}};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[te]),(0,s.jsxs)("div",(0,a.Z)((0,i.Z)({className:(0,S.Sh)(N().armor,z),ref:G,role:"img","aria-label":M},Z),{children:[(0,s.jsx)(x.u,{unmount:!0,in:!O&&J,timeout:(0,S.zG)(w.T.base.durationL),children:function(e){return(0,s.jsx)(y.a,{className:N().loader,"data-visible":e})}}),(0,s.jsx)("canvas",{className:N().canvas,ref:H,"data-loaded":O&&q,style:(0,S.Fh)({delay:(0,S.aU)(n)})})]}))}},3142:function(e,t,n){"use strict";n.d(t,{Et:function(){return s},Ji:function(){return m},Zf:function(){return c},e8:function(){return v},in:function(){return f},lN:function(){return l},x2:function(){return h}});var r=n(9477),i=n(4521),a=n(4591);r.CtF.enabled=!0;var o=new i._,u=new a.E;o.setDecoderPath("/draco/"),u.setDRACOLoader(o);var c=u,s=new r.dpR,l=function(){try{var e=document.createElement("canvas"),t=e.getContext("webgl",{failIfMajorPerformanceCaveat:!0})||e.getContext("experimental-webgl");if(!t)return!1;var n=t.getExtension("WEBGL_lose_context");return null===n||void 0===n||n.loseContext(),!0}catch(r){return!1}},f=function(e){null===e||void 0===e||e.traverse((function(e){if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)d(e.material);else{var t=!0,n=!1,r=void 0;try{for(var i,a=e.material[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;d(o)}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}))},d=function(e){e.dispose();var t=!0,n=!1,r=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o,u,c,s=e[i.value];if(s&&"object"===typeof s&&"minFilter"in s)s.dispose(),null===(o=s.source)||void 0===o||null===(u=o.data)||void 0===u||null===(c=u.close)||void 0===c||c.call(u)}}catch(l){n=!0,r=l}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}},v=function(e){var t;e&&(e.dispose(),null===(t=e.forceContextLoss)||void 0===t||t.call(e),e=null)},m=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o.parent.remove(o)}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}},h=function(e,t){var n;return t.traverse((function(t){t.name===e&&(n=t)})),n}},3934:function(e){e.exports={armor:"Armor_armor__npq42",loader:"Armor_loader___wk2y",canvas:"Armor_canvas__Oe927"}},7378:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var r=n(7294),i=n(406),a=n(3234),o=n(6014),u=n(6681);var c=n(8868);var s=n(577);function l(e,t={}){const{isStatic:n}=(0,r.useContext)(o._),l=(0,r.useRef)(null),f=function(e){const t=(0,u.h)((()=>(0,a.B)(e))),{isStatic:n}=(0,r.useContext)(o._);if(n){const[,n]=(0,r.useState)(e);(0,r.useEffect)((()=>t.on("change",n)),[])}return t}((0,i.i)(e)?e.get():e);return(0,r.useMemo)((()=>f.attach(((e,r)=>n?r(e):(l.current&&l.current.stop(),l.current=(0,s.jt)({keyframes:[f.get(),e],velocity:f.getVelocity(),type:"spring",...t,onUpdate:r}),f.get())))),[JSON.stringify(t)]),function(e,t){(0,c.L)((()=>{if((0,i.i)(e))return t(e.get()),e.on("change",t)}),[e,t])}(e,(e=>f.set(parseFloat(e)))),f}}}]);